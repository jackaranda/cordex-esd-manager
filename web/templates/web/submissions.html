{% extends "web/base.html" %}

{% block title %}CORDEX Experiment Manager | Experiments {% endblock %}

{% block content %}

    <div class="container" ng-controller="submissionsListCtrl">

    <div class="row">
      <h4>You currently have <strong>{[{ submissions.length }]}</strong> submissions active</h4>
    </div>

    <div class="row" ng-repeat="submission in submissions">
          <div class="panel panel-default">
            <div class="panel-heading">{[{ submission.experiment_name }]} | {[{ submission.model_name }]}</div>
            <div class="panel-body"><strong>{[{ submission.uploads.length }]}</strong> uploads in this submission
          </div>
      </div>
    </div>
    </div>

    <div class="container">

    Here we have a form where a new submissions can be uploaded/created

    <form action="/api/uploads/.json" method="POST" enctype="multipart/form-data" accept="application/json" >
    	{% csrf_token %}
      <div class="form-group">
          <label for="submission_id">Submission</label>
    	     <input class="form-control" type="text" id="submission_id" placeholder="Enter ID of submission"/>
    	</div>

      <div class="form-group">
          <label for="format">Format</label>
           <input class="form-control" type="text" id="format" placeholder="Enter storage format"/>
      </div>

    	<input class="form-control"  type="file" name="uploaded" />
    	<input class="form-control"  type="submit">
      </div>
    </form>

    </div>

{% endblock %}

